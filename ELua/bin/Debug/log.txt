[source]
local arr = { 1, 2, 3 }
local i = 1
while i <= len(arr) do
print(arr[i])
i = i + 1
if i == 2 then
break
end
end

[extract]
local #5 = { 1, 2, 3 }
local arr = #5
local i = 1
while i <= len(arr) do
local #6 = arr[i]
print(#6)
local #7 = i + 1
i = #7
if i == 2 then
break
end
end

[test.lua]
0   Push       3         
1   Push       2         
2   Push       1         
3   List       3         
4   Push       #5        
5   Bind
6   Clear
7   Push       #5        
8   Push       arr       
9   Bind
10  Clear
11  Push       1         
12  Push       i         
13  Bind
14  Clear
15  Label      #8:15     
16  Push       arr       
17  Push       len       
18  Call
19  Push       i         
20  LessEqual
21  JumpNot    #9:51     
22  Push       i         
23  Push       arr       
24  Index
25  Push       #6        
26  Bind
27  Clear
28  Push       #6        
29  Push       print     
30  Call
31  Clear
32  Push       1         
33  Push       i         
34  Plus
35  Push       #7        
36  Bind
37  Clear
38  Push       #7        
39  Push       i         
40  Bind
41  Clear
42  Push       2         
43  Push       i         
44  Equal
45  JumpNot    #10:48    
46  Jump       #9:51     
47  Clear
48  Label      #10:48    
49  Clear
50  Jump       #8:15     
51  Label      #9:51     
52  Clear

[output]
1
