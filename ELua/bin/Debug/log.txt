[source]
local t = { 1, 2, 3 }
if True then
for i, v in ipairs(t) do
print(i, v)
end
else
print(100)
end

[extract]
local ~16 = { 1, 2, 3 }
local t = ~16
if True then
local ~17 = ipairs(t)
for i, v in unpack(~17) do
print(i, v)
end
else
print(100)
end
complie 71ms

[test.lua]
0       Push         3
1       Push         2
2       Push         1
3       List
4       Define       ~16
5       Bind
6       Clear
7       Var          ~16
8       Define       t
9       Bind
10      Clear
11      Push         True
12      JumpNot      ~18:56
13      Var          t
14      Var          ipairs
15      Call
16      Define       ~17
17      Bind
18      Clear
19      Var          ~17
20      Unpack
21      Define       ~23
22      Define       ~22
23      Define       ~21
24      BindN        3
25      Label        ~24:25
26      Var          ~23
27      Var          ~22
28      Var          ~21
29      Call
30      Unpack
31      Define       v
32      Define       i
33      BindN        2
34      Clear
35      Var          i
36      Var          ~23
37      Bind
38      Clear
39      Push         nil
40      Var          ~23
41      Equal
42      JumpNot      ~29:45
43      Jump         ~27:53
44      Clear
45      Label        ~29:45
46      Clear
47      Var          v
48      Var          i
49      Var          print
50      Call
51      Clear
52      Jump         ~24:25
53      Label        ~27:53
54      Clear
55      Jump         ~19:61
56      Label        ~18:56
57      Push         100
58      Var          print
59      Call
60      Clear
61      Label        ~19:61
62      Clear

[output]
1, 1
2, 2
3, 3
