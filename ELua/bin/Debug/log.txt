[source]
a = 100
b = 200
local c = 300
local t = { a, b, c }
for i, v in ipairs(t) do
print(i, v)
end
function test()
print("test")
end
test()

[extract]
a = 100
b = 200
local c = 300
local #10 = { a, b, c }
local t = #10
local #11 = ipairs(t)
for i, v in unpack(#11) do
print(i, v)
end
function test()
print("test")
end
test()
complie 88ms

[test]
0   Push       test      
1   Var        print     
2   Call       1         
3   Clear

[test.lua]
0   Push       100       
1   Var        a         
2   Bind
3   Clear
4   Push       200       
5   Var        b         
6   Bind
7   Clear
8   Push       300       
9   Local      c         
10  Bind
11  Clear
12  Var        c         
13  Var        b         
14  Var        a         
15  List       3         
16  Local      #10       
17  Bind
18  Clear
19  Var        #10       
20  Local      t         
21  Bind
22  Clear
23  Var        t         
24  Var        ipairs    
25  Call       1         
26  Local      #11       
27  Bind
28  Clear
29  Var        #11       
30  Unpack
31  Local      #14       
32  Local      #13       
33  Local      #12       
34  BindN      3         
35  Label      #15:35    
36  Push       True      
37  JumpNot    #18:65    
38  Var        #14       
39  Var        #13       
40  Var        #12       
41  Call       2         
42  Unpack
43  Local      v         
44  Local      i         
45  BindN      2         
46  Clear
47  Var        i         
48  Var        #14       
49  Bind
50  Clear
51  Push       nil       
52  Var        #14       
53  Equal
54  JumpNot    #20:57    
55  Jump       #18:65    
56  Clear
57  Label      #20:57    
58  Clear
59  Var        v         
60  Var        i         
61  Var        print     
62  Call       2         
63  Clear
64  Jump       #15:35    
65  Label      #18:65    
66  Clear
67  Function   test      
68  Var        test      
69  Bind
70  Clear
71  Var        test      
72  Call       0         
73  Clear

[output]
1, 100
2, 200
3, 300
test
