[source]
local b = True
if b or a + 100 then
if b then
print(1)
else
print(5)
end
if a then
print(2)
else
print(3)
end
else
print(4)
end

[extract]
local b = True
if b then
local #5 = b
else
local #5 = a + 100
end
if #5 then
if b then
print(1)
else
print(5)
end
if a then
print(2)
else
print(3)
end
else
print(4)
end

[test.lua]
0   Push       True      
1   Push       b         
2   Bind
3   Clear
4   Push       b         
5   JumpNot    #6:11     
6   Push       b         
7   Push       #5        
8   Bind
9   Clear
10  Jump       #7:18     
11  Label      #6:11     
12  Push       100       
13  Push       a         
14  Plus
15  Push       #5        
16  Bind
17  Clear
18  Label      #7:18     
19  Clear
20  Push       #5        
21  JumpNot    #8:55     
22  Push       b         
23  JumpNot    #10:30    
24  Push       1         
25  Push       print     
26  Call       1         
27  Unpack
28  Clear
29  Jump       #11:36    
30  Label      #10:30    
31  Push       5         
32  Push       print     
33  Call       1         
34  Unpack
35  Clear
36  Label      #11:36    
37  Clear
38  Push       a         
39  JumpNot    #12:46    
40  Push       2         
41  Push       print     
42  Call       1         
43  Unpack
44  Clear
45  Jump       #13:52    
46  Label      #12:46    
47  Push       3         
48  Push       print     
49  Call       1         
50  Unpack
51  Clear
52  Label      #13:52    
53  Clear
54  Jump       #9:61     
55  Label      #8:55     
56  Push       4         
57  Push       print     
58  Call       1         
59  Unpack
60  Clear
61  Label      #9:61     
62  Clear

[output]
1
3
